<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Cubefaces</title>

        <meta name="viewport" content="width=device-width, minimum-scale=1,
            initial-scale=1, user-scalable=no">

        <style>
            html {
                background: #333;
                box-sizing: border-box;
            }
            html * {
                box-sizing: inherit;
            }
            html, body {
                margin: 0; padding: 0;
            }
            section {
                width: 100vw; height: 100vh;
                display: flex;
                justify-content: center;
                align-items: center;
                overflow: hidden;
            }
            section > * {
                flex: 0 0 auto;
            }
        </style>

        <!-- webcomponents -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/webcomponentsjs/1.0.1/webcomponents-lite.js" integrity="sha256-la6qW/wkFtceGefXKR37VKKRVXZvwUnUPiRPBmMpsP0=" crossorigin="anonymous"></script>
        <link rel="import" href="static/webcomponents/vz-cube.html">
    </head>
    <body>
        <section>
            <vz-cube>
                <vz-cubepivot>
                    <vz-cubeface data-face="top" style="background-image: url(static/images/cubes/01/top.jpg)"></vz-cubeface>
                    <vz-cubeface data-face="bottom" style="background-image: url(static/images/cubes/01/bottom.jpg)"></vz-cubeface>
                    <vz-cubeface data-face="front" style="background-image: url(static/images/cubes/01/front.jpg)"></vz-cubeface>
                    <vz-cubeface data-face="back" style="background-image: url(static/images/cubes/01/back.jpg)"></vz-cubeface>
                    <vz-cubeface data-face="left" style="background-image: url(static/images/cubes/01/left.jpg)"></vz-cubeface>
                    <vz-cubeface data-face="right" style="background-image: url(static/images/cubes/01/right.jpg)"></vz-cubeface>
                </vz-cubepivot>
            </vz-cube>
        </section>

        <section>
            <vz-cube id="cube">
                <vz-cubepivot>
                    <vz-cubeface data-face="top" style="background-image: url(static/images/cubes/02/top.jpg)"></vz-cubeface>
                    <vz-cubeface data-face="bottom" style="background-image: url(static/images/cubes/02/bottom.jpg)"></vz-cubeface>
                    <vz-cubeface data-face="front" style="background-image: url(static/images/cubes/02/front.jpg)"></vz-cubeface>
                    <vz-cubeface data-face="back" style="background-image: url(static/images/cubes/02/back.jpg)"></vz-cubeface>
                    <vz-cubeface data-face="left" style="background-image: url(static/images/cubes/02/left.jpg)"></vz-cubeface>
                    <vz-cubeface data-face="right" style="background-image: url(static/images/cubes/02/right.jpg)"></vz-cubeface>

                    <vz-cube-feature is="vz-cube-feature" id="f1" title="Feature 1" yaw="0" pitch="0"></vz-cube-feature>
                    <vz-cube-feature is="vz-cube-feature" id="f2" title="Feature 2" yaw="20" pitch="20"></vz-cube-feature>
                    <!-- <a is="vz-cube-feature" id="f3" title="Feature 3 (InstantÃ¢neo)" yaw="0" pitch="20" onclick="cube.animateTo(-this.yaw, -this.pitch, 0, _ => alert('Cheguei no 3'))"></a> -->
                </vz-cubepivot>
            </vz-cube>
        </section>

        <script>
        f1.addEventListener('click', e => {
            e.preventDefault()
            cube.animateTo(e.currentTarget.yaw, e.currentTarget.pitch)
            cube.freeze()
            cube.zoomIn()
        })

        f2.addEventListener('click', e => {
            e.preventDefault()

            cube.animateTo(-e.currentTarget.yaw, -e.currentTarget.pitch, 1000, _ => {
                cube.freeze()
                cube.zoomIn()
            })
        })

        document.querySelectorAll('vz-cube').forEach(c => {
            c.addEventListener('touchmove', e => {
                if (-70 < c.pitch && c.pitch < 70) e.preventDefault()
            })
        })
        </script>
    </body>
</html>
